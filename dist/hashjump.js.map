{"version":3,"file":"hashjump.js","sources":["../src/hashjump.js"],"sourcesContent":["/*!\n  hashjump v0.0.3 (https://hashjump.js.org)\n  by Kodie Grantham (https://kodieg.com)\n*/\n\nconst hashjump = (targetHashes, opts) => {\n  const onLoadHash = (window.location.hash).replace('#', '')\n\n  if (typeof targetHashes === 'object') {\n    opts = targetHashes\n    targetHashes = null\n  } else if (typeof targetHashes === 'string') {\n    targetHashes = targetHashes.split(/[\\s,]+/)\n  }\n\n  opts = Object.assign({}, hashjump.defaultOpts, opts ?? {})\n\n  if (\n    opts.hashjumpOnLoad &&\n    onLoadHash &&\n    (\n      (!targetHashes && !Object.keys(hashjump.opts ?? {}).includes(onLoadHash)) ||\n      (targetHashes && targetHashes.includes(onLoadHash))\n    )\n  ) {\n    if ('scrollRestoration' in history) {\n      history.scrollRestoration = 'manual'\n    }\n\n    window.scrollTo(0, 0)\n\n    if (opts.hideUrlHash || (opts.ignoreEmptyHashes && !onLoadHash)) {\n      history.replaceState(null, null, window.location.pathname)\n    }\n\n    if (!opts.ignoreEmptyHashes || onLoadHash) {\n      window.addEventListener('load', () => {\n        hashjump.to(onLoadHash, Object.assign({ isOnLoad: true }, opts))\n      })\n    }\n  }\n\n  if (opts.hashjumpLinks) {\n    let query\n\n    if (targetHashes) {\n      query = targetHashes.map(hash => 'a[href=\"#' + hash + '\"]').join(',')\n    } else {\n      query = 'a[href^=\"#\"]' + Object.keys(hashjump.opts ?? {}).map(hash => ':not([href=\"#' + hash + '\"])').join('')\n    }\n\n    const hashLinks = document.querySelectorAll(query)\n\n    hashLinks.forEach(link => {\n      opts.hashjumpLinkEvents.forEach(eventType => {\n        link.addEventListener(eventType, e => {\n          const linkHash = link.getAttribute('href').replace('#', '')\n\n          if (opts.hideUrlHash || (opts.ignoreEmptyHashes && !linkHash)) {\n            e.preventDefault()\n            history.replaceState(null, null, window.location.pathname)\n          }\n\n          if (!opts.ignoreEmptyHashes || linkHash) {\n            hashjump.to(linkHash, Object.assign({ isOnClick: true }, opts))\n          }\n        })\n      })\n    })\n  }\n\n  if (targetHashes) {\n    hashjump.opts = Object.assign(hashjump.opts ?? {}, targetHashes.reduce((a, v) => ({ ...a, [v]: opts }), {}))\n  } else {\n    hashjump.baseOpts = opts\n  }\n}\n\nhashjump.to = (target, opts) => {\n  let element\n\n  if (typeof target === 'object' && !(target instanceof HTMLElement)) {\n    opts = target\n    target = null\n  }\n\n  if (!target) {\n    element = document.documentElement\n  } else if (target instanceof HTMLElement) {\n    element = target\n  } else if (typeof target === 'string') {\n    element = document.getElementById(target)\n  } else {\n    console.error('[hashjump] invalid target:', target)\n    return\n  }\n\n  if (!element) {\n    if (opts.action) {\n      element = document.documentElement\n    } else {\n      console.warn('[hashjump] could not find element:', target)\n      return\n    }\n  }\n\n  const id = typeof target === 'string' ? target : element.id\n\n  opts = Object.assign({}, (hashjump.opts ? hashjump.opts[id] : null) ?? hashjump.baseOpts ?? hashjump.defaultOpts, opts ?? {})\n\n  const viewWidth = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n  const viewHeight = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0)\n  const pageWidth = document.documentElement.scrollWidth\n  const pageHeight = document.documentElement.scrollHeight\n  const maxScrollX = pageWidth - viewWidth\n  const maxScrollY = pageHeight - viewHeight\n  const elementPosX = element.offsetLeft\n  const elementPosY = element.offsetTop\n  const elementWidth = element.offsetWidth\n  const elementHeight = element.offsetHeight\n\n  let scrollOffsetX = opts.scrollOffsetX ?? opts.scrollOffset\n  let scrollOffsetY = opts.scrollOffsetY ?? opts.scrollOffset\n\n  if (typeof scrollOffsetX === 'string') {\n    if (scrollOffsetX.startsWith('inner-')) {\n      if (scrollOffsetX.charAt(scrollOffsetX.length - 1) === '%') {\n        scrollOffsetX = ((Number(scrollOffsetX.slice(6, -1)) / 100) * (viewWidth - elementWidth))\n      } else {\n        scrollOffsetX = -Number(scrollOffsetX.slice(6))\n      }\n    } else if (scrollOffsetX.charAt(scrollOffsetX.length - 1) === '%') {\n      scrollOffsetX = (Number(scrollOffsetX.slice(0, -1)) / 100) * viewWidth\n    } else {\n      scrollOffsetX = Number(scrollOffsetX)\n    }\n  }\n\n  if (typeof scrollOffsetY === 'string') {\n    if (scrollOffsetY.startsWith('inner-')) {\n      if (scrollOffsetY.charAt(scrollOffsetY.length - 1) === '%') {\n        scrollOffsetY = ((Number(scrollOffsetY.slice(6, -1)) / 100) * (viewHeight - elementHeight))\n      } else {\n        scrollOffsetY = -Number(scrollOffsetY.slice(6))\n      }\n    } else if (scrollOffsetY.charAt(scrollOffsetY.length - 1) === '%') {\n      scrollOffsetY = (Number(scrollOffsetY.slice(0, -1)) / 100) * viewHeight\n    } else {\n      scrollOffsetY = Number(scrollOffsetY)\n    }\n  }\n\n  let scrollPointX = elementPosX - scrollOffsetX\n  let scrollPointY = elementPosY - scrollOffsetY\n\n  if (scrollPointX < 0) {\n    scrollPointX = 0\n  } else if (scrollPointX > maxScrollX) {\n    scrollPointX = maxScrollX\n  }\n\n  if (scrollPointY < 0) {\n    scrollPointY = 0\n  } else if (scrollPointY > maxScrollY) {\n    scrollPointY = maxScrollY\n  }\n\n  const scrollStartX = window.scrollX || window.pageXOffset\n  const scrollStartY = window.scrollY || window.pageYOffset\n  const duration = (opts.isOnLoad ? opts.scrollDurationOnLoad : opts.scrollDurationOnClick) ?? opts.scrollDuration\n  const easeFunc = (typeof opts.easingFunction === 'string' ? hashjump.easingFunctions[opts.easingFunction] : opts.easingFunction) ?? hashjump.easingFunctions.linear\n  const time = Date.now()\n  const requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame\n\n  const focusElement = () => {\n    if (\n      opts.focusElement &&\n      (\n        opts.focusElement === true ||\n        (typeof opts.focusElement === 'string' && element.matches(opts.focusElement)) ||\n        (typeof opts.focusElement === 'function' && opts.focusElement(element))\n      )\n    ) {\n      element.focus()\n    }\n  }\n\n  const step = () => {\n    const t = Math.min(1, (Date.now() - time) / duration)\n    const ease = easeFunc(t)\n    const posX = scrollStartX + (scrollPointX - scrollStartX) * ease\n    const posY = scrollStartY + (scrollPointY - scrollStartY) * ease\n\n    window.scrollTo(posX, posY)\n\n    if (t < 1) {\n      requestAnimationFrame(step)\n    } else {\n      focusElement()\n\n      if (opts.actionAfter) {\n        opts.actionAfter(actionInfo)\n      }\n    }\n  }\n\n  const actionInfo = {\n    target,\n    opts,\n    element,\n    viewWidth,\n    viewHeight,\n    pageWidth,\n    pageHeight,\n    maxScrollX,\n    maxScrollY,\n    elementPosX,\n    elementPosY,\n    elementWidth,\n    elementHeight,\n    scrollOffsetX,\n    scrollOffsetY,\n    scrollPointX,\n    scrollPointY,\n    scrollStartX,\n    scrollStartY,\n    duration,\n    easeFunc,\n    time,\n    requestAnimationFrame,\n    step,\n    focusElement\n  }\n\n  let actionBeforeResults\n\n  if (opts.actionBefore) {\n    actionBeforeResults = opts.actionBefore(actionInfo)\n  }\n\n  if (opts.action) {\n    if (actionBeforeResults !== false) {\n      opts.action(actionInfo)\n\n      if (opts.actionAfter) {\n        opts.actionAfter(actionInfo)\n      }\n    }\n  } else {\n    if (actionBeforeResults !== false) {\n      if (duration) {\n        requestAnimationFrame(step)\n      } else {\n        window.scrollTo(scrollPointX, scrollPointY)\n        focusElement()\n\n        if (opts.actionAfter) {\n          opts.actionAfter(actionInfo)\n        }\n      }\n    }\n  }\n}\n\nhashjump.defaultOpts = {\n  action: null,\n  actionAfter: null,\n  actionBefore: null,\n  focusElement: 'input, select, button, textarea',\n  hashjumpLinks: true,\n  hashjumpLinkEvents: ['click', 'keypress'],\n  hashjumpOnLoad: true,\n  hideUrlHash: false,\n  ignoreEmptyHashes: true,\n  scrollOffset: '25%',\n  scrollOffsetX: null,\n  scrollOffsetY: null,\n  scrollDuration: 200,\n  scrollDurationOnLoad: null,\n  scrollDurationOnClick: null,\n  easingFunction: 'linear'\n}\n\nhashjump.easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (--t) * t * t + 1,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - (--t) * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + (--t) * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\n}\n\nexport default hashjump\n"],"names":["hashjump","targetHashes","opts","_opts","_hashjump$opts","onLoadHash","window","location","hash","replace","_typeof","split","Object","assign","defaultOpts","hashjumpOnLoad","keys","includes","history","scrollRestoration","scrollTo","hideUrlHash","ignoreEmptyHashes","replaceState","pathname","addEventListener","to","isOnLoad","hashjumpLinks","query","map","join","_hashjump$opts2","hashLinks","document","querySelectorAll","forEach","link","hashjumpLinkEvents","eventType","e","linkHash","getAttribute","preventDefault","isOnClick","_hashjump$opts3","reduce","a","v","_objectSpread","_defineProperty","baseOpts","target","_ref","_ref2","_opts2","_opts$scrollOffsetX","_opts$scrollOffsetY","_ref3","_ref4","element","HTMLElement","documentElement","getElementById","console","error","action","warn","id","viewWidth","Math","max","clientWidth","innerWidth","viewHeight","clientHeight","innerHeight","pageWidth","scrollWidth","pageHeight","scrollHeight","maxScrollX","maxScrollY","elementPosX","offsetLeft","elementPosY","offsetTop","elementWidth","offsetWidth","elementHeight","offsetHeight","scrollOffsetX","scrollOffset","scrollOffsetY","startsWith","charAt","length","Number","slice","scrollPointX","scrollPointY","scrollStartX","scrollX","pageXOffset","scrollStartY","scrollY","pageYOffset","duration","scrollDurationOnLoad","scrollDurationOnClick","scrollDuration","easeFunc","easingFunction","easingFunctions","linear","time","Date","now","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","focusElement","matches","focus","step","t","min","ease","posX","posY","actionAfter","actionInfo","actionBeforeResults","actionBefore","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint"],"mappings":"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"}